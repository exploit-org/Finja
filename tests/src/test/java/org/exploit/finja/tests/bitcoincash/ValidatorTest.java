package org.exploit.finja.tests.bitcoincash;

import org.exploit.bch.BitcoinCashProvider;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertFalse;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class ValidatorTest {
    private final BitcoinCashProvider provider = BitcoinCashProvider.newBuilder().build();

    @Test
    public void assertValidCashAddress() {
        var mainnet = "bitcoincash:qz8r6zedctrf66rc0fg47p0eq9e0uxvazcs63j7gff";
        assertTrue(provider.validator().isValidAddress(mainnet));
    }

    @Test
    public void assertValidNoPrefix() {
        var mainnet = "qz8r6zedctrf66rc0fg47p0eq9e0uxvazcs63j7gff";
        assertTrue(provider.validator().isValidAddress(mainnet));
    }

    @Test
    public void assertInvalid() {
        var mainnet = "qz8r6zedctrf66dc0fg47d0eq9e0uxvazc163j7gff";
        assertFalse(provider.validator().isValidAddress(mainnet));
    }
}
