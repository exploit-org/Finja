package org.exploit.finja.tests.solana;

import org.exploit.finja.core.model.WebData;
import org.exploit.sol.SolanaProvider;
import org.junit.jupiter.api.Test;

import java.math.BigDecimal;
import java.math.BigInteger;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class ConverterTest {
    private final SolanaProvider provider = SolanaProvider.newBuilder()
            .node(WebData.create(null, null)) // Mock
            .build();

    @Test
    public void assertValidLamportConversion() {
        var sol = BigDecimal.ONE;
        var lamports = provider.converter().toUnit(sol);

        assertEquals(0, lamports.compareTo(new BigInteger("1000000000")));
    }

    @Test
    public void assertValidSolConversion() {
        var lamports = new BigInteger("1000000000");
        var sol = provider.converter().toHuman(lamports);

        assertEquals(0, sol.compareTo(BigDecimal.ONE));
    }
}
