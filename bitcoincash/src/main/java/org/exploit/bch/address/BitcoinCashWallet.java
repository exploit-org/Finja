package org.exploit.bch.address;

import org.exploit.bch.util.CashAddr;
import org.exploit.btc.BitcoinProtocolProvider;
import org.exploit.btc.address.BitcoinProtocolWallet;
import org.exploit.btc.constant.SigHash;
import org.exploit.finja.core.OutgoingTransaction;
import org.exploit.finja.core.key.ECKeyManager;
import org.exploit.finja.core.model.Recipient;
import org.exploit.secp256k1.Secp256k1PointOps;

import java.util.List;

public class BitcoinCashWallet extends BitcoinProtocolWallet {
    public BitcoinCashWallet(BitcoinProtocolProvider provider, String address, ECKeyManager<Secp256k1PointOps> signer) {
        super(provider, CashAddr.splitAddress(address), signer);
    }

    @Override
    public OutgoingTransaction transaction(List<Recipient> recipients, int flags) {
        return transactionService.createTransaction(keyData, address, recipients, flags, SigHash.SIGHASH_ALL | SigHash.SIGHASH_FORKID);
    }
}
